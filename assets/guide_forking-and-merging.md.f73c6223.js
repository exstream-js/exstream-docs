import{_ as s,c as a,o as n,a as e}from"./app.31486ea0.js";const d=JSON.parse('{"title":"Forking and Merging","description":"","frontmatter":{},"headers":[{"level":2,"title":"Forking","slug":"forking"},{"level":3,"title":"Exstream.fork(disableAutostart = false)","slug":"exstream-fork-disableautostart-false"},{"level":3,"title":"Exstream.observe()","slug":"exstream-observe"},{"level":2,"title":"Merging","slug":"merging"},{"level":3,"title":"Exstream.merge()","slug":"exstream-merge"}],"relativePath":"guide/forking-and-merging.md","lastUpdated":1661627806000}'),o={name:"guide/forking-and-merging.md"},l=e(`<h1 id="forking-and-merging" tabindex="-1">Forking and Merging <a class="header-anchor" href="#forking-and-merging" aria-hidden="true">#</a></h1><h2 id="forking" tabindex="-1">Forking <a class="header-anchor" href="#forking" aria-hidden="true">#</a></h2><p>A stream can be splitted to perform parallel transformations and to pipe data to different destinations. Exstream offers two different API to accomplish this task: <code>Exstream.fork</code> and <code>Exstream.observe</code></p><h3 id="exstream-fork-disableautostart-false" tabindex="-1">Exstream.fork(disableAutostart = false) <a class="header-anchor" href="#exstream-fork-disableautostart-false" aria-hidden="true">#</a></h3><p>Calling <code>Exstream.fork</code> will create a new Exstream instance that you can use to perform your parallel data manipulations:</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> s1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_</span><span style="color:#A6ACCD;">(source)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fork</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#A6ACCD;">(writable1)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> s2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_</span><span style="color:#A6ACCD;">(source)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fork</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#A6ACCD;">(writable2)</span></span>
<span class="line"></span></code></pre></div><p>Each fork share the backpressure with the others. So if, for example, <code>writable1</code> is slow, it pauses source and also <code>s2</code> will be paused.</p><p>A forked stream will start in the next tick to avoid losing data while you are building all the forks. For this reason, an Exstream instance created with fork is always considered to be asynchronous.</p><p>There are cases in which you want to build different forks in different ticks. In this case you have to set <code>disableAutoStart</code> to <code>true</code> and to manual start the source after you&#39;ve built all the forks:</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> s </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_</span><span style="color:#A6ACCD;">(source)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fork1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fork</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#A6ACCD;">(writable1)</span></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fork2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fork</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">writable2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">500</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="exstream-observe" tabindex="-1">Exstream.observe() <a class="header-anchor" href="#exstream-observe" aria-hidden="true">#</a></h3><p>TODO</p><h2 id="merging" tabindex="-1">Merging <a class="header-anchor" href="#merging" aria-hidden="true">#</a></h2><p>TODO</p><h3 id="exstream-merge" tabindex="-1">Exstream.merge() <a class="header-anchor" href="#exstream-merge" aria-hidden="true">#</a></h3><p>TODO</p>`,16),p=[l];function t(r,c,A,i,y,C){return n(),a("div",null,p)}const D=s(o,[["render",t]]);export{d as __pageData,D as default};
